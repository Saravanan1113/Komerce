{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Downloads\\\\Komerce-Ecomerce-main\\\\komerce-react\\\\src\\\\constants\\\\header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport * as ROUTES from './routes';\nimport AuthContext from './../context/authContext';\nimport '../css/style.css';\nimport { ProtectedRoute } from \"./protected-route\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Header() {\n  _s();\n\n  const [userData, setUserData] = useState([]);\n  const authCtx = useContext(AuthContext);\n  const history = useNavigate(); // const {data} = ProtectedRoute\n  // console.log(data)\n\n  const fetchSessionData = async () => {\n    const result = await fetch(\"http://localhost:3000/user/sessions\", {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await result.json();\n\n    if (data.isAuth) {\n      setUserData(data);\n      authCtx.onLogin(data);\n    }\n  };\n\n  useEffect(() => {\n    fetchSessionData();\n  }, []);\n  console.log(authCtx.role);\n\n  const logOutHandler = async event => {\n    console.log(\"Logout functions\");\n    event.preventDefault();\n    authCtx.onLogout(); // await fetch(`http://localhost:3000/mySessions`,{method: 'DELETE'})\n\n    await fetch(\"http://localhost:3000/users/logout\", {\n      method: 'POST'\n    }).then(() => {\n      console.log(\"Naviating\");\n      history(ROUTES.LOGIN);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"header bg-white\",\n    id: \"header\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [authCtx.isLoggedIn && authCtx.role === \"user\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-image\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: ROUTES.COLLECTIONS,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: '/images/wigo-logo-img.png',\n                width: \"70\",\n                height: \"36\",\n                alt: \"Wigo Store\",\n                itemProp: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 8\n          }, this) : authCtx.isLoggedIn && authCtx.role === \"admin\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-image\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: ROUTES.PRODUCTLIST,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: '/images/wigo-logo-img.png',\n                width: \"70\",\n                height: \"36\",\n                alt: \"Wigo Store\",\n                itemProp: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 8\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo-image\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: ROUTES.LOGIN,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: '/images/wigo-logo-img.png',\n                width: \"70\",\n                height: \"36\",\n                alt: \"Wigo Store\",\n                itemProp: \"logo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 8\n          }, this), authCtx.isLoggedIn && authCtx.role === \"user\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-menu\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"navigation\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: ROUTES.COLLECTIONS,\n                    children: \"Collections\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 15\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 8\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-items\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sign-in\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                width: \"22px\",\n                height: \"22px\",\n                viewBox: \"-1 -1 21 20\",\n                children: /*#__PURE__*/_jsxDEV(\"g\", {\n                  transform: \"translate(0.968750, -0.031250)\",\n                  stroke: \"none\",\n                  strokeWidth: \"1\",\n                  fill: \"currentColor\",\n                  fillRule: \"nonzero\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M9,7.5 C10.704,7.5 12.086,6.157 12.086,4.5 C12.086,2.843 10.704,1.5 9,1.5 C7.296,1.5 5.914,2.843 5.914,4.5 C5.914,6.157 7.296,7.5 9,7.5 Z M9,9 C6.444,9 4.371,6.985 4.371,4.5 C4.371,2.015 6.444,0 9,0 C11.556,0 13.629,2.015 13.629,4.5 C13.629,6.985 11.556,9 9,9 Z M1.543,18 L0,18 L0,15 C0,12.377 2.187,10.25 4.886,10.25 L14.143,10.25 C16.273,10.25 18,11.929 18,14 L18,18 L16.457,18 L16.457,14 C16.457,12.757 15.421,11.75 14.143,11.75 L4.886,11.75 C3.04,11.75 1.543,13.205 1.543,15 L1.543,18 Z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 12\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 18\n              }, this), authCtx.isLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"head-link bg-white\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: e => logOutHandler(e),\n                  className: \"main-menu-link\",\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 10\n              }, this), !authCtx.isLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"head-link bg-white\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: ROUTES.LOGIN,\n                  className: \"main-menu-link\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: ROUTES.REGISTER,\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 16\n            }, this), authCtx.isLoggedIn && authCtx.role === \"user\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"cart-link\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: ROUTES.CART,\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24px\",\n                  height: \"24px\",\n                  viewBox: \"0 -2 37 35\",\n                  children: /*#__PURE__*/_jsxDEV(\"g\", {\n                    transform: \"translate(0.500000, 0.500000)\",\n                    stroke: \"none\",\n                    fill: \"currentColor\",\n                    fillRule: \"nonzero\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M0.2,11 L9.5,29 L26.4,29 L35.7,11 L0.2,11 Z M24.5,26 L11.5,26 L4.8,14 L31.2,14 L24.5,26 L24.5,26 Z M18.5,3 C22.7,3 25.5,6.3 25.5,8.5 L28.5,8.5 C28.5,4.5 24.2,0 18.5,0 C12.8,0 8.5,4.5 8.5,8.5 L11.5,8.5 C11.5,6.3 14.3,3 18.5,3 Z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 116,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 12\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 9\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 12\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"E2smgzSJzwlHSIW8OPfTI6y4DQc=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"sources":["C:/Users/Admin/Downloads/Komerce-Ecomerce-main/komerce-react/src/constants/header.js"],"names":["React","useContext","useEffect","useState","Link","useNavigate","ROUTES","AuthContext","ProtectedRoute","Header","userData","setUserData","authCtx","history","fetchSessionData","result","fetch","method","credentials","headers","data","json","isAuth","onLogin","console","log","role","logOutHandler","event","preventDefault","onLogout","then","LOGIN","isLoggedIn","COLLECTIONS","PRODUCTLIST","e","REGISTER","CART"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nimport * as ROUTES from './routes';\nimport AuthContext from './../context/authContext';\n\nimport '../css/style.css';\nimport { ProtectedRoute } from \"./protected-route\";\n\nexport default function Header(){\n\tconst [userData, setUserData] = useState([])\n\tconst authCtx = useContext(AuthContext);\n\tconst history = useNavigate()\n\t// const {data} = ProtectedRoute\n\t// console.log(data)\n\tconst fetchSessionData = async() => {\n\t\tconst result = await fetch(\"http://localhost:3000/user/sessions\", {\n            method: \"GET\",\n            credentials: \"include\",\n            headers: {\n            \"Content-Type\": \"application/json\",\n            },\n\t\t});\n\t\tconst data = await result.json();\n\t\tif(data.isAuth){\n\t\t\tsetUserData(data);\n\t\t\tauthCtx.onLogin(data)\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tfetchSessionData()\n\t},[])\n\n\tconsole.log(authCtx.role)\n\t\n\n\tconst logOutHandler = async (event) => {\n\t\tconsole.log(\"Logout functions\")\n\t\tevent.preventDefault()\n\t\tauthCtx.onLogout();\n\t\t// await fetch(`http://localhost:3000/mySessions`,{method: 'DELETE'})\n\t\tawait fetch(\"http://localhost:3000/users/logout\",{method: 'POST'})\n\t\t\t.then(() => {\n\t\t\t\tconsole.log(\"Naviating\")\n\t\t\t\thistory(ROUTES.LOGIN)\n\t\t\t})\n\t}\n\t\n    return (\n        <header className=\"header bg-white\" id=\"header\">\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"page-header\">\n\t\t\t\t\t<div className=\"header-left\">\n\t\t\t\t\t\t{authCtx.isLoggedIn && authCtx.role === \"user\"?\n\t\t\t\t\t\t\t<div className=\"logo-image\">\n\t\t\t\t\t\t\t\t<Link to={ROUTES.COLLECTIONS}>\n\t\t\t\t\t\t\t\t\t<img src={'/images/wigo-logo-img.png'} width=\"70\" height=\"36\" alt=\"Wigo Store\" itemProp=\"logo\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t: authCtx.isLoggedIn && authCtx.role === \"admin\" ?\n\t\t\t\t\t\t\t<div className=\"logo-image\">\n\t\t\t\t\t\t\t\t<Link to={ROUTES.PRODUCTLIST}>\n\t\t\t\t\t\t\t\t\t<img src={'/images/wigo-logo-img.png'} width=\"70\" height=\"36\" alt=\"Wigo Store\" itemProp=\"logo\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<div className=\"logo-image\">\n\t\t\t\t\t\t\t\t<Link to={ROUTES.LOGIN}>\n\t\t\t\t\t\t\t\t\t<img src={'/images/wigo-logo-img.png'} width=\"70\" height=\"36\" alt=\"Wigo Store\" itemProp=\"logo\" />\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{/* <div className=\"logo-image\">\n\t\t\t\t\t\t\t<Link to={ROUTES.LOGIN}>\n\t\t\t\t\t\t\t\t<img src={'/images/wigo-logo-img.png'} width=\"70\" height=\"36\" alt=\"Wigo Store\" itemProp=\"logo\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t      \t</div> */}\n\t\t\t\t\t\t{authCtx.isLoggedIn && authCtx.role === \"user\" ?\n\t\t\t\t\t\t\t<div className=\"header-menu\">\n\t\t\t\t\t\t\t\t<nav className=\"navigation\">\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><Link to={ROUTES.COLLECTIONS}>Collections</Link></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t}\n\t\t\t      \t</div>\n\t\t\t      \t<div className=\"header-right\">\n\t\t\t      \t\t<div className=\"header-items\">\n\t\t\t\t          \t<span className=\"sign-in\">\n\t\t\t            \t\t<svg width=\"22px\" height=\"22px\" viewBox=\"-1 -1 21 20\">\n\t\t\t\t\t\t\t\t  \t<g transform=\"translate(0.968750, -0.031250)\" stroke=\"none\" strokeWidth=\"1\" fill=\"currentColor\" fillRule=\"nonzero\">\n\t\t\t\t\t\t\t\t    \t<path d=\"M9,7.5 C10.704,7.5 12.086,6.157 12.086,4.5 C12.086,2.843 10.704,1.5 9,1.5 C7.296,1.5 5.914,2.843 5.914,4.5 C5.914,6.157 7.296,7.5 9,7.5 Z M9,9 C6.444,9 4.371,6.985 4.371,4.5 C4.371,2.015 6.444,0 9,0 C11.556,0 13.629,2.015 13.629,4.5 C13.629,6.985 11.556,9 9,9 Z M1.543,18 L0,18 L0,15 C0,12.377 2.187,10.25 4.886,10.25 L14.143,10.25 C16.273,10.25 18,11.929 18,14 L18,18 L16.457,18 L16.457,14 C16.457,12.757 15.421,11.75 14.143,11.75 L4.886,11.75 C3.04,11.75 1.543,13.205 1.543,15 L1.543,18 Z\"></path>\n\t\t\t\t\t\t\t\t  \t</g>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t{authCtx.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t<div className=\"head-link bg-white\">\n\t\t\t\t\t\t\t\t\t\t<a onClick={(e) => logOutHandler(e)} className=\"main-menu-link\">Logout</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!authCtx.isLoggedIn && (\n\t\t\t\t\t\t\t\t\t<div className=\"head-link bg-white\">\n\t\t\t\t\t\t\t\t\t<Link to={ROUTES.LOGIN} className=\"main-menu-link\">Login</Link>\n\t\t\t\t\t\t\t\t\t<Link to={ROUTES.REGISTER}>Register</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t          \t</span>\n\t\t\t\t\t\t\t{authCtx.isLoggedIn && authCtx.role === \"user\" ?\n\t\t\t\t\t\t\t\t<span className=\"cart-link\">\n\t\t\t\t\t\t\t\t\t<Link to={ROUTES.CART}>\n\t\t\t\t\t\t\t\t\t\t<svg width=\"24px\" height=\"24px\" viewBox=\"0 -2 37 35\">\n\t\t\t\t\t\t\t\t\t\t\t<g transform=\"translate(0.500000, 0.500000)\" stroke=\"none\" fill=\"currentColor\" fillRule=\"nonzero\">\n\t\t\t\t\t\t\t\t\t\t\t\t<path d=\"M0.2,11 L9.5,29 L26.4,29 L35.7,11 L0.2,11 Z M24.5,26 L11.5,26 L4.8,14 L31.2,14 L24.5,26 L24.5,26 Z M18.5,3 C22.7,3 25.5,6.3 25.5,8.5 L28.5,8.5 C28.5,4.5 24.2,0 18.5,0 C12.8,0 8.5,4.5 8.5,8.5 L11.5,8.5 C11.5,6.3 14.3,3 18.5,3 Z\"></path>\n\t\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t\t}\n\t\t\t\t        </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n    )\n}"]},"metadata":{},"sourceType":"module"}